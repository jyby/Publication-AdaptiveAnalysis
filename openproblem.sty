% OPENPROBLEM STYLE -- Released XXX
%    for LaTeX-2e
% Copyright -- 
%
% 
%
% This style file is free software; you can redistribute it and/or
% modify it under the terms of the GNU Lesser General Public
% License as published by the Free Software Foundation; either
% version 2 of the License, or (at your option) any later version.
%
% This style file is distributed in the hope that it will be useful,
% but WITHOUT ANY WARRANTY; without even the implied warranty of
% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
% Lesser General Public License for more details.
%
% You should have received a copy of the GNU Lesser General Public
% License along with this style file; if not, write to the
% Free Software Foundation, Inc., 59 Temple Place - Suite 330,
% Boston, MA  02111-1307, USA.
%
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{openproblem}
\typeout{Document Style `openproblem' - floating environment}

\RequirePackage{float}
\RequirePackage{ifthen}
\newcommand{\OPB@within}{nothing}
\newboolean{OPB@within}
\setboolean{OPB@within}{false}
\newcommand{\OPB@floatstyle}{ruled}
\newcommand{\OPB@name}{Open Problem}
\newcommand{\listopenproblemname}{List of \OPB@name s}

% Declare Options
% first appearance
\DeclareOption{plain}{
  \renewcommand{\OPB@floatstyle}{plain}
}
\DeclareOption{ruled}{
  \renewcommand{\OPB@floatstyle}{ruled}
}
\DeclareOption{boxed}{
  \renewcommand{\OPB@floatstyle}{boxed}
}
% then numbering convention
\DeclareOption{part}{
  \renewcommand{\OPB@within}{part}
  \setboolean{OPB@within}{true}
}
\DeclareOption{chapter}{
  \renewcommand{\OPB@within}{chapter}
  \setboolean{OPB@within}{true}
}
\DeclareOption{section}{
  \renewcommand{\OPB@within}{section}
  \setboolean{OPB@within}{true}
}
\DeclareOption{subsection}{
  \renewcommand{\OPB@within}{subsection}
  \setboolean{OPB@within}{true}
}
\DeclareOption{subsubsection}{
  \renewcommand{\OPB@within}{subsubsection}
  \setboolean{OPB@within}{true}
}
\DeclareOption{nothing}{
  \renewcommand{\OPB@within}{nothing}
  \setboolean{OPB@within}{true}
}
\DeclareOption*{\edef\OPB@name{\CurrentOption}}

% OPENPROBLEM
%
\ProcessOptions
\floatstyle{\OPB@floatstyle}
\ifthenelse{\boolean{OPB@within}}{
  \ifthenelse{\equal{\OPB@within}{part}}
     {\newfloat{openproblem}{htbp}{loo}[part]}{}
  \ifthenelse{\equal{\OPB@within}{chapter}}
     {\newfloat{openproblem}{htbp}{loo}[chapter]}{}
  \ifthenelse{\equal{\OPB@within}{section}}
     {\newfloat{openproblem}{htbp}{loo}[section]}{}
  \ifthenelse{\equal{\OPB@within}{subsection}}
     {\newfloat{openproblem}{htbp}{loo}[subsection]}{}
  \ifthenelse{\equal{\OPB@within}{subsubsection}}
     {\newfloat{openproblem}{htbp}{loo}[subsubsection]}{}
  \ifthenelse{\equal{\OPB@within}{nothing}}
     {\newfloat{openproblem}{htbp}{loo}}{}
}{
  \newfloat{openproblem}{htbp}{loo}
}
\floatname{openproblem}{\OPB@name}

\newcommand{\listofopenproblems}{\listof{openproblem}{\listopenproblemname}}

